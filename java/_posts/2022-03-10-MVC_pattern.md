---
layout: post
title: (Java) MVC 패턴
description: >
  MVC 패턴에 대해서
sitemap: false
hide_last_modified: true
excerpt: MVC패턴에 대한 사전학습

categories: Java
tags: [Java, jsp, MVC]

toc: true
toc_sticky: true
date: 2022-03-10
---
- Table of Contents
{:toc .large-only}

## 목표
&nbsp;&nbsp; DAO, DTO, VO의 개념에 이어서 디자인 패턴 중 하나인 MVC 패턴에 대한 이론을 공부하고자 글을 작성하게 되었다.

## 디자인 패턴 (Design Pattern)
> 소프트웨어 공학의 소프트웨어 디자인에서 특정 문맥에서 공통적으로 발생하는 문제에 대해 재사용 가능한 해결책

&nbsp;&nbsp;MVC 패턴이 무엇인지 알기 이전에 디자인 패턴이 무엇인지 알 필요가 있었다. 디자인 패턴은 상기한 내용만으로는 직관적으로 이해하기 어려울 수 있으나 쉽게 말하면 <b> 과거의 소프트웨어 개발 과정에서 발견된 설계의 노하우를 축적하여 그 방법에 이름을 붙여서 이후에 재사용하기 좋은 형태로 특정 규약을 만들어서 정리한 것 </b>이라고 할 수 있겠다.<br>
&nbsp;&nbsp;현재 수많은 디자인 패턴이 존재하지만 이 게시물은 MVC 패턴을 다루고자 하기 때문에 다른 패턴들은 기회가 된다면 다시 다뤄야될 것 같다. 

## MVC 패턴
&nbsp;&nbsp; MVC (Model–View–Controller) 패턴은 이름 그대로 Model과 View, Controller로 구성된 패턴으로 하나의 프로젝트를 구성할 때 구성요소를 세 가지로 구분한 패턴이다. (Service도 추가할 수 있지만 일단은 이렇게 3개까지만 공부할 생각이다.) 

![MVC Processpng](https://user-images.githubusercontent.com/100886309/157618267-826c1ffb-b65b-491e-89a3-a0d19089d47e.png){:.lead width="50px" height="10px"}

MVC패턴 과정 (출처 : [위키피디아](https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC))
{:.figcaption} 

&nbsp;&nbsp;사실 엄밀히 따지면 이 과정도 100% 맞다고는 할 수 없다고 한다. Controller도 View에 영향을 미치기 때문인데 나도 이제 막 이론을 습득해나가고 있는 상황이라 정확하게 이해하지 못하고 있어 자세하게 기술하기는 어려울 것 같다. 일단은 직관적으로 어떤 형태를 띄고 있는지만이라도 이해하기 위해 최대한 간략하게 작성하려고 하고 있다.
&nbsp;&nbsp;위 과정을 웹사이트에 적용시켜보면
1. Uses        : 웹사이트 접속<BR>
2. Manipulates : Controller는 사용자가 요청한 웹페이지를 서비스 하기 위해서 모델을 호출
3. 모델은 데이터베이스나 파일과 같은 데이터 소스를 제어한 후에 그 결과를 리턴
4. Updates     : Controller는 Model이 리턴한 결과를 View에 반영
5. Sees        : 데이터가 반영된 VIew는 사용자에게 노출 

&nbsp;&nbsp;이렇게 진행이 된다. 아직까지는 이해가 잘 되고 있다.<br>
&nbsp;&nbsp;이제 Model, View, Controller의 성질에 대해 알아보겠다.
## MVC
#### Model
&nbsp;&nbsp;데이터를 가진 객체를 모델이라고 지칭한다.  데이터는 내부에 상태에 대한 정보를 가질 수도 있고, 모델을 표현하는 이름 속성으로 가질 수 있다.<br>
&nbsp;&nbsp;데이터베이스, 처음의 정의하는 상수, 초기화값, 변수 등이 모델에 포함되는데 이러한 데이터들의 가공을 책임지는 컴포넌트 역시 모델에 포함된다.<br>
&nbsp;&nbsp;일반적으로 모델은 데이터베이스 테이블에 대응된다. 이를테면 Topic이라는 테이블은 topic_model이라는 Model을 만드는데 이 관계가 강제적이지 않기 때문에 규칙을 일관성 있게 정의하는 것이 필요하다.<br>

&nbsp;&nbsp;모델은 다음과 같은 규칙을 갖고 있다.
> &nbsp;&nbsp;사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.

&nbsp;&nbsp;즉, 화면에 네모 박스 안에 글자가 표현 된다면, 네모 박스의 화면 위치 정보, 네모 박스의 크기 정보, 글자 내용, 글자의 위치, 글자의 포멧 정보 등을 가지고 있어야 한다는 뜻이다.

> &nbsp;&nbsp;뷰(View)나 컨트롤러(Controller)에 대해서 어떤 정보도 알지 말아야 한다.

&nbsp;&nbsp;데이터 변경이 일어 났을때, 모델에서 화면 UI(View)를 직접 조정해서 수정할 수 있도록 <b>뷰를 참조하는 내부 속성값을 가지면 안된다</b>는 뜻이다.

> &nbsp;&nbsp;변경이 일어나면, 변경 통지에 대한 처리 방법을 구현해야만 한다.

&nbsp;&nbsp;모델의 속성 중 텍스트 정보가 변경이 된다면, 이벤트를 발생시켜 누군가에게 전달해야 하며, 누군가 모델을 변경하도록 요청하는 이벤트를 보냈을 때 이를 수신할 수 있는 처리 방법을 구현해야 한다. 또한 모델은 재사용가능해야 하며 다른 인터페이스에서도 변하지 않아야 한다. 

#### View
&nbsp;&nbsp;View는 클라이언트 측 기술인 html/css/javascript들을 모아둔 컨테이너이고, input 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타낸다. <br>
&nbsp;&nbsp;다시 말해 데이터 및 객체의 입력, 그리고 보여주는 출력을 담당한다. 데이타를 기반으로 사용자들이 볼 수 있는 화면이다.  

뷰에서는 다음과 같은 규칙들이 있다.   

> &nbsp;&nbsp;모델이 가지고 있는 정보를 따로 저장해서는 안된다.

&nbsp;&nbsp;화면에 글자를 표시 하기 위해, 모델이 가지고 있는 정보를 전달받게 될텐데, 그 정보를 유지하기 위해서 임의의 뷰 내뷰에 저장하면 안된다. 단순히 네모 박스를 그리라는 명령을 받으면, 화면에 표시하기만 하고 그 화면을 그릴 때 필요한 정보들은 저장하지 않아야 한다.

> &nbsp;&nbsp;모델이나 컨트롤러와 같이 다른 구성요소들을 몰라야 된다.

&nbsp;&nbsp;모델과 같은 자기 자신의 빼고는 다른 요소는 참조하거나 어떻게 동작하는지 알아서는 안된다. 그냥 뷰는 데이터를 받으면 화면에 표시해주는 역할만 가진다고 보면 된다.

> &nbsp;&nbsp;변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다.

&nbsp;&nbsp;모델과 같이 변경이 일어났을 때 이른 누군가에게 변경을 알려줘야 하는 방법을 구현해야 한다. 뷰에서는 화면에서 사용자가 화면에 표시된 내용을 변경하게 되면 이를 모델에게 전달해서 모델을 변경해야 할 것이다. 그 작업을 하기 위해 변경 통지를 구현한다. 그리고 재사용가능하게끔 설계를 해야 하며 다른 정보들을 표현할 때 쉽게 설계를 해야 한다. 

#### Controller
&nbsp;&nbsp;Model과 View를 연결해주는 역할로, 사용자가 접근 한 URL에 따라서 사용자의 요청사항을 파악한 후에 그 요청에 맞는 데이터를 Model에 의뢰하고, 데이터를 View에 반영해서 사용자에게 알려준다. <br>
&nbsp;&nbsp;즉, 사용자가 데이터를 클릭하고, 수정하는 것에 대한 "이벤트"들을 처리하는 부분을 뜻한다.  

컨트롤러 또한 다음과 같은 규칙을 이해해야 한다. 

>&nbsp;&nbsp; 모델이나 뷰에 대해서 알고 있어야 한다.

&nbsp;&nbsp;모델이나 뷰는 서로의 존재를 모르고, 변경을 외부로 알리고, 수신하는 방법만 가지고 있는데 이를 컨트롤러가 중재하기 위해 모델과 그에 관련된 뷰에 대해서 알고 있어야 한다. (View와는 반대되는 성질이라고 할 수 있겠다.)  

>&nbsp;&nbsp; 모델이나 뷰의 변경을 모니터링 해야 한다.

&nbsp;&nbsp;모델이나 뷰의 변경 통지를 받으면 이를 해석해서 각각의 구성 요소에게 통지를 해야 한다. 

&nbsp;&nbsp;또한, 애플리케이션의 메인 로직은 컨트롤러가 담당하게 된다. 

#### MVC 패턴을 사용하는 이유?
&nbsp;&nbsp;아무래도 유지,보수에 강하기 때문이 아닐까 싶다. 서로 분리되어 각자의 역할에 집중할 수 있게끔하여 개발을 하고 그렇게 애플리케이션을 만든다면, 유지보수성, 애플리케이션의 확장성, 그리고 유연성이 증가하고, 중복코딩이라는 문제점 또한 사전에 방지할 수 있다는 장점으로 인해 사용하는 것 같다.

## 배운 것
&nbsp;&nbsp; 오늘은 MVC 패턴을 활용하여 웹페이지를 생성해보기에 앞서 기본적인 내용을 공부했다.

## 느낀 점
&nbsp;&nbsp; MVC 패턴이 매우 유명한 패턴 중 하나인 만큼 웹 검색을 통해 많은 자료를 얻을 수 있었다. 사실 오늘 글을 작성하면서 느낀 점은 직접 공부한 내용을 기재하는 것이 아닌 다른 사이트들을 참고하여 그 글들을 그대로 옮겨담은 듯한 느낌이 크게 들어 내가 제대로 하고 있는 것이 맞나 싶은 의구심이 들었다. 하지만 이것도 결국은 배움의 일부라고 생각하고, 시작하는 단계인 만큼 어쩔 수 없다고 생각한다. <BR>
&nbsp;&nbsp; 또, 아직까지는 md파일을 사용하여 게시물을 작성하고, 목차에 삽입하기까지의 과정이 익숙하지가 않다. 하지만 이 부분에 대해서는 어느 정도는 감을 잡은 것 같다. 앞으로 카테고리별로 정리하는 항목을 따로 구성하고, 블로그를 조금 더 가독성 좋게 꾸밀 예정이긴 하지만 정말 갈 길이 먼 것 같다. 많이 노력해야할 필요가 있다.







## 참고
[코딩팩토리님 블로그](https://coding-factory.tistory.com/708)<BR>
[생활코딩 사이트](https://opentutorials.org/course/697/3828)<br>
[큰돌님 블로그](https://devsoyoung.github.io/posts/markdown-image-tag/)<br>
[snippet](https://bsnippet.tistory.com/13)